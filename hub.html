<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYRIX // Command Center</title>
    <link rel="stylesheet" href="assets/css/styles.css">

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>
<body class="hub-root">

    <div id="hubLocked" class="hubWrap">
        <div class="hubPanel terminal-card">
            <div class="glitch-title">SYRIX_PROTOCOL</div>
            <p>Accessing restricted unit data...</p>
            <button class="btn primary-long" onclick="window.loginWithDiscord()">AUTHENTICATE_SESSION</button>
        </div>
    </div>

    <div id="hubUnlocked" style="display: none;" class="command-grid">

        <aside class="side-nav">
            <div class="nav-brand">SYRIX<span>//</span>HUB</div>
            <nav class="nav-links">
                <button class="nav-item active" onclick="window.showTab('planner', this)">STRATBOOK</button>
                <button class="nav-item" onclick="window.showTab('roster', this)">UNIT_LOG</button>
                <button class="nav-item" onclick="window.showTab('intel', this)">ENEMY_INTEL</button>
            </nav>
            <div class="nav-footer">
                <div id="userProfile" class="user-status">OPERATOR: ...</div>
                <button class="logout-link" onclick="firebase.auth().signOut()">TERMINATE_SESSION</button>
            </div>
        </aside>

        <main class="content-area">

            <div id="planner" class="tabView active">
                <div class="planner-ui">
                    <div class="canvas-container">
                        <canvas id="vpCanvas"></canvas>
                        <img id="vpMapImg" src="https://media.valorant-api.com/maps/7eaecc1b-4337-bbf6-6130-03a4d7090581/stylizedicon.png" alt="Map Overlay">

                        <div class="canvas-toolbar">
                            <button onclick="window.setTool('draw')" id="tool-draw" class="tool active" title="Draw">âœŽ</button>
                            <button onclick="window.setTool('agent')" id="tool-agent" class="tool" title="Place Agent">ðŸ‘¤</button>
                            <button onclick="window.undoPlanner()" class="tool" title="Undo">â¤º</button>
                            <button onclick="window.clearPlanner()" class="tool danger" title="Wipe Board">ðŸ—‘</button>
                            <input type="color" id="vpColor" value="#ff1e3c">
                        </div>
                    </div>

                    <div class="planner-sidebar hubPanel">
                        <label class="tag">ACTIVE_THEATER</label>
                        <select id="vpMapSelect" onchange="window.changeMap()" class="tactical-input">
                            <option value="ascent">ASCENT</option>
                            <option value="bind">BIND</option>
                            <option value="haven">HAVEN</option>
                            <option value="lotus">LOTUS</option>
                            <option value="abyss">ABYSS</option>
                        </select>

                        <label class="tag" style="margin-top: 25px;">UNIT_DEPLOYMENT</label>
                        <div class="agent-palette" id="agent-list">
                        </div>

                        <button class="btn primary-long" style="margin-top: auto;" onclick="window.saveStrategy()">EXPORT_STRAT</button>
                    </div>
                </div>
            </div>

            <div id="roster" class="tabView">
                <div class="hubPanel" style="max-width: 800px; margin: 0 auto;">
                    <h2 class="section-header">ACTIVE_OPERATIVES</h2>
                    <div id="rosList" class="roster-stack">
                    </div>
                </div>
            </div>

            <div id="intel" class="tabView">
                <div class="hubPanel" style="max-width: 800px; margin: 0 auto;">
                    <h2 class="section-header">ENEMY_DOSSIER</h2>
                    <div id="intelList" class="intel-container">
                        <p style="color: var(--text-muted); font-size: 0.8rem;">Awaiting field intelligence report...</p>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="assets/js/script.js"></script>
</body>
</html>